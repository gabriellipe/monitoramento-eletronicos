<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Sistema de Infrações</title>
<link rel="stylesheet" href="style.css" />
</head>
<body>
<div class="app">
  <!-- LOGIN ------------------------------------------------------------------>
  <div id="login-screen" class="screen active">
    <div class="container">
      <h1>Sistema de Infrações Disciplinares</h1>
      <p>Selecione seu perfil</p>
      <button class="btn" onclick="showLogin('professor')">👨‍🏫 Professor</button>
      <button class="btn" onclick="showLogin('gestor')">👩‍💼 Gestor</button>
    </div>
  </div>

  <!-- FORM LOGIN ------------------------------------------------------------->
  <div id="login-form" class="screen hidden">
    <div class="container">
      <button class="btn" onclick="showScreen('login-screen')">← Voltar</button>
      <h2>Login - <span id="login-type"></span></h2>
      <form id="loginForm">
        <select id="userSelect" required></select>
        <button class="btn" type="submit">Entrar</button>
      </form>
    </div>
  </div>

  <!-- PROFESSOR -------------------------------------------------------------->
  <div id="professor-screen" class="screen hidden">
    <header>
      <span id="professor-name"></span>
      <button class="btn" onclick="logout()">Sair</button>
    </header>
    <main class="container">
      <h2>Registrar Infração</h2>
      <form id="infracaoForm">
        <input id="professorField" readonly />
        <input id="dataHoraField" readonly />
        <select id="alunoSelect" required></select>
        <input id="turmaField" readonly />
        <input id="descricaoField" value="Uso de celular" required />
        <textarea id="observacoesField"></textarea>
        <button class="btn" type="submit">Registrar</button>
      </form>
    </main>
  </div>

  <!-- GESTOR ----------------------------------------------------------------->
  <div id="gestor-screen" class="screen hidden">
    <header>
      <span id="gestor-name"></span>
      <button class="btn" onclick="logout()">Sair</button>
    </header>

    <main class="container">
      <div class="stats">
        <div><span id="ocorrencia-hoje">0</span><small>Hoje</small></div>
        <div><span id="ocorrencia-semana">0</span><small>Semana</small></div>
        <div><span id="ocorrencia-pendentes">0</span><small>Pendentes</small></div>
        <div><span id="ocorrencia-resolvidas">0</span><small>Resolvidas</small></div>
      </div>

      <nav>
        <button class="nav-tab active" onclick="showTab('pendentes')">Pendentes</button>
        <button class="nav-tab" onclick="showTab('historico')">Histórico</button>
      </nav>

      <section id="tab-pendentes" class="tab active">
        <select id="filtro-professor"></select>
        <select id="filtro-turma"></select>
        <input type="date" id="filtro-data" />
        <button class="btn" onclick="limparFiltros()">Limpar</button>
        <div id="ocorrencia-pendentes-list"></div>
      </section>

      <section id="tab-historico" class="tab hidden">
        <div id="ocorrencia-historico-list"></div>
      </section>
    </main>
  </div>

  <!-- MODAL PENALIDADE ------------------------------------------------------->
  <div id="penalidade-modal" class="modal hidden">
    <div class="modal-content">
      <h3>Aplicar Penalidade</h3>
      <div id="infraction-summary"></div>
      <form id="penalidadeForm">
        <select id="penalidade-select" required></select>
        <button class="btn" type="submit">Aplicar</button>
        <button class="btn" type="button" onclick="fecharModal()">Cancelar</button>
      </form>
    </div>
  </div>

  <div id="message-container"></div>
</div>
<script type="module" src="app.js"></script>
</body>
</html>
